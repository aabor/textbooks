% !TeX program = lualatex -synctex=1 -interaction=nonstopmode --shell-escape %.tex

\documentclass[12pt, table]{exam}
\usepackage[rus]{borochkin}

\usepackage{borochkin_exam}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\printanswers
\usetag{professor}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\firstpageheader{}{}{}
\runningheader{Назв. предмета, к/р}{}{стр. \thepage\ of \numpages}
\runningheadrule


\begin{document}
\setcounter{section}{0\relax}%
\section{Вариант}

\noindent
	\begin{tabularx}{\textwidth}{XX}
	\textbf{\Large Дата \hrulefill} & \textbf{\Large Фамилия: \hrulefill } \\[1em]
	&\textbf{\Large Имя: \hrulefill}\\[1em]
	&\textbf{\Large Отчество:\hrulefill}\\[1em]
	&\textbf{\Large Номер группы:\hrulefill} \\[1em]
\end{tabularx}\\

\normalsize
\begin{questions}
\question[40] Тест
%\subfile{control_test_exercisers_table}
\iftagged{professor}
{
	{\rowcolors{1}{gray!80}{white}
		\begin{table}[htbp]
			\centering
			\Large
			\caption{Ответы на тестовые вопросы}
			\begin{tabular}{|r|r|r|r|r|r|r|r|r|r|}
				\hline
				1     & 2     & 3     & 4     & 5     & 6     & 7     & 8     & 9     & 10 \\
				\ref{sol:1}  & \ref{sol:2}  & \ref{sol:3}  & \ref{sol:4}  & \ref{sol:5}  & \ref{sol:6}  & \ref{sol:7}  & \ref{sol:8}  & \ref{sol:9}  & \ref{sol:10}  \\
				11    & 12    & 13    & 14    & 15    & 16    & 17    & 18    & 19    & 20 \\
				\ref{sol:11}  & \ref{sol:12}  & \ref{sol:13}  & \ref{sol:14}  & \ref{sol:15}  & \ref{sol:16}  & \ref{sol:17}  & \ref{sol:18}  & \ref{sol:19}  & \ref{sol:20}  \\
				21    & 22    & 23    & 24    & 25    & 26    & 27    & 28    & 29    & 30 \\
				\ref{sol:21}  & \ref{sol:22}  & \ref{sol:23}  & \ref{sol:24}  & \ref{sol:25}  & \ref{sol:26}  & \ref{sol:27}  & \ref{sol:28}  & \ref{sol:29}  & \ref{sol:30}  \\
				31    & 32    & 33    & 34    & 35    & 36    & 37    & 38    & 39    & 40 \\
				\ref{sol:31}  & \ref{sol:32}  & \ref{sol:33}  & \ref{sol:34}  & \ref{sol:35}  & \ref{sol:36}  & \ref{sol:37}  & \ref{sol:38}  & \ref{sol:39}  & \ref{sol:40}  \\
				\hline
			\end{tabular}%
			\label{tab:addlabel}%
		\end{table}%
	}
}
{
	{\rowcolors{1}{gray!80}{white}
		\begin{table}[htbp]
			\centering
			\Large
			\caption{Ответы на тестовые вопросы}
			\begin{tabular}{|r|r|r|r|r|r|r|r|r|r|}
				\hline
				1     & 2     & 3     & 4     & 5     & 6     & 7     & 8     & 9     & 10 \\
				&      &       &       &       &       &       &       &       &  \\
				11    & 12    & 13    & 14    & 15    & 16    & 17    & 18    & 19    & 20 \\
				&       &       &       &       &       &       &       &       &  \\
				21    & 22    & 23    & 24    & 25    & 26    & 27    & 28    & 29    & 30 \\
				&       &       &       &       &       &       &       &       &  \\
				31    & 32    & 33    & 34    & 35    & 36    & 37    & 38    & 39    & 40 \\
				&       &       &       &       &       &       &       &       &  \\\hline
			\end{tabular}%
			\label{tab:addlabel}%
		\end{table}%
	}
}

	
\question[20]
Question text
\noaddpoints
\begin{subparts}
\subpart[10] First subpart.

\begin{solution}[18em]
	solution text.
\end{solution}

\subpart[5] Second subpart.

\begin{solution}[9em]
	solution text.
\end{solution}

\subpart[5] 

\begin{solution}[12em]
\end{solution}

\end{subparts}
\addpoints

\question[20]

\noaddpoints
\begin{subparts}
\subpart[10] 
\subpart[10] 

\begin{solution}[43em]
\end{solution}

\end{subparts}
\addpoints

\end{questions}

\pagebreak
\noindent\textbf{Тестовые вопросы (выберите один правильный ответ)}

\begin{questions}
\begin{multicols}{2}
\setlength{\columnsep}{1cm}
\question My question
\begin{choices}
	\CC Right answer.
	\choice .
	\choice .
	\choice .
\end{choices}

\question 
\begin{choices}
	\CC .
	\choice .
	\choice .
	\choice .
\end{choices}


\end{multicols}
\end{questions}

\end{document}
